<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web bán hàng - Home</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <nav>
            <ul class="menu-left">
                <li><a href="index.html">Home</a></li>
                <li><a href="products.html">Products</a></li>
                <li><a href="cart.html">Cart</a></li>
                <li><a href="checkout.html">Checkout</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>
            <div class="menu-right">
                <div class="search-bar">
                    <input type="text" id="search-input" placeholder="Search for products...">
                    <button id="search-button">Search</button>
                </div>
                <button id="auth-button" class="btn btn-link">Login</button>
            </div>
        </nav>
    </header>
    <main>
        <h1>Featured Phones</h1>
        <div class="product-grid">
            <div class="product" data-name="iPhone 13" data-price="999.99" data-description="The latest iPhone with A15 Bionic chip, 5G capability, and improved cameras." data-img="https://images.fpt.shop/unsafe/fit-in/960x640/filters:quality(90):fill(white):upscale()/fptshop.com.vn/Uploads/Originals/2022/3/30/637842470242656074_iphone-13-white.jpg">
                <a href="product_detail_iphone13.html">
                    <img src="https://images.fpt.shop/unsafe/fit-in/960x640/filters:quality(90):fill(white):upscale()/fptshop.com.vn/Uploads/Originals/2022/3/30/637842470242656074_iphone-13-white.jpg" alt="Phone 1">
                </a>
                <h2>iPhone 13</h2>
                <p class="price">$999.99</p>
                <p class="description">The latest iPhone with A15 Bionic chip, 5G capability, and improved cameras.</p>
                <button class="add-to-cart">Add to Cart</button>
            </div>
            <div class="product" data-name="Samsung Galaxy S21" data-price="899.99" data-description="Experience the power of Samsung Galaxy with the S21's advanced features." data-img="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTaj65llRXI-QMsIDeW0gVB2ZZVdr0bOQm1kA&s">
                <a href="product_detail_samsung_s21.html">
                    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTaj65llRXI-QMsIDeW0gVB2ZZVdr0bOQm1kA&s" alt="Phone 2">
                </a>
                <h2>Samsung Galaxy S21</h2>
                <p class="price">$899.99</p>
                <p class="description">Experience the power of Samsung Galaxy with the S21's advanced features.</p>
                <button class="add-to-cart">Add to Cart</button>
            </div>
            <div class="product" data-name="Samsung S23" data-price="799.99" data-description="Google's newest Pixel phone with powerful AI features and a stunning display." data-img="https://images.fpt.shop/unsafe/fit-in/960x640/filters:quality(90):fill(white):upscale()/fptshop.com.vn/Uploads/Originals/2024/4/1/638475836030618950_SS%20S23%20FE-4.jpg">
                <a href="product_detail_samsung_s23.html">
                    <img src="https://images.fpt.shop/unsafe/fit-in/960x640/filters:quality(90):fill(white):upscale()/fptshop.com.vn/Uploads/Originals/2024/4/1/638475836030618950_SS%20S23%20FE-4.jpg" alt="Phone 3">
                </a>
                <h2>Samsung S23</h2>
                <p class="price">$799.99</p>
                <p class="description">Google's newest Pixel phone with powerful AI features and a stunning display.</p>
                <button class="add-to-cart">Add to Cart</button>
            </div>
            <div class="product" data-name="Oppo a58" data-price="969.99" data-description="OnePlus's flagship phone with top-notch performance and build quality." data-img="https://images.fpt.shop/unsafe/fit-in/960x640/filters:quality(90):fill(white):upscale()/fptshop.com.vn/Uploads/Originals/2024/2/20/638440477995784821_Oppo%20reno%2011F-2.jpg">
                <a href="product_detail_oppo_a58.html">
                    <img src="https://images.fpt.shop/unsafe/fit-in/960x640/filters:quality(90):fill(white):upscale()/fptshop.com.vn/Uploads/Originals/2024/2/20/638440477995784821_Oppo%20reno%2011F-2.jpg" alt="Phone 4">
                </a>
                <h2>Oppo Reno11F</h2>
                <p class="price">$969.99</p>
                <p class="description">OnePlus's flagship phone with top-notch performance and build quality.</p>
                <button class="add-to-cart">Add to Cart</button>
            </div>
        </div>
        <h2>Product Categories</h2>
        <div class="category-grid">
            <div class="category">
                <img src="https://via.placeholder.com/100x100?text=iPhone" alt="iPhone Category">
                <h3>iPhones</h3>
            </div>
            <div class="category">
                <img src="https://via.placeholder.com/100x100?text=Samsung" alt="Samsung Category">
                <h3>Samsung Phones</h3>
            </div>
            <div class="category">
                <img src="https://via.placeholder.com/100x100?text=Pixel" alt="Pixel Category">
                <h3>Google Pixel</h3>
            </div>
            <div class="category">
                <img src="https://via.placeholder.com/100x100?text=OnePlus" alt="OnePlus Category">
                <h3>OnePlus Phones</h3>
            </div>
        </div>
        <p id="search-message" style="display:none;">No products found matching your search.</p>
    </main>
    <footer>
        <p>&copy; 2024 Online Store. All rights reserved.</p>
    </footer>
    <script>
        document.getElementById('search-button').addEventListener('click', function () {
            const query = document.getElementById('search-input').value.toLowerCase();
            const products = document.querySelectorAll('.product');
            let found = false;
            
            const matchedProducts = [];
            products.forEach(product => {
                const productName = product.getAttribute('data-name').toLowerCase();
                if (productName.includes(query)) {
                    matchedProducts.push({
                        name: product.getAttribute('data-name'),
                        price: product.getAttribute('data-price'),
                        description: product.getAttribute('data-description'),
                        img: product.getAttribute('data-img')
                    });
                    found = true;
                }
            });

            if (found) {
                localStorage.setItem('searchResults', JSON.stringify(matchedProducts));
                window.location.href = 'products.html';
            } else {
                document.getElementById('search-message').style.display = 'block';
            }
        });

        document.querySelectorAll('.add-to-cart').forEach(button => {
            button.addEventListener('click', function () {
                const product = this.closest('.product');
                const name = product.getAttribute('data-name');
                const price = product.getAttribute('data-price');
                const img = product.getAttribute('data-img');

                const cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];
                cartItems.push({ name, price, img });
                localStorage.setItem('cartItems', JSON.stringify(cartItems));
                alert('${name} has been added to your cart!');
            });
        });

        document.getElementById('auth-button').addEventListener('click', function () {
            const isLoggedIn = localStorage.getItem('isLoggedIn');
            if (isLoggedIn) {
                // Đăng xuất
                localStorage.removeItem('isLoggedIn');
                this.textContent = 'Login';
                alert('You have been logged out.');
            } else {
                // Chuyển đến trang đăng nhập
                window.location.href = 'login.html';
            }
        });

        // Kiểm tra trạng thái đăng nhập
        window.onload = function () {
            const isLoggedIn = localStorage.getItem('isLoggedIn');
            const authButton = document.getElementById('auth-button');
            if (isLoggedIn) {
                authButton.textContent = 'Logout';
            } else {
                authButton.textContent = 'Login';
            }
        }
    </script>
</body>
</html>